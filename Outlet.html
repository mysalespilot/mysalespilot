<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Outlet Stocks</title>
  
  <style>
    @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700;800&display=swap");
    *, *:before, *:after {
      box-sizing: border-box;
    }

    body {
      font-family: 'Nunito', sans-serif;
      color: #384047;
    }

    .hero {
      margin-bottom: 20px;
    }

    form {
      max-width: 480px;
      margin: 10px auto;
      padding: 20px;
      background: #FCE181;
      border-radius: 8px;
    }

    h1 {
      margin: 0 0 30px 0;
      text-align: center;
    }

    input[type="text"],
    input[type="number"],
    textarea,
    select {
      background-color: #EDEAE5;
      border: none;
      font-size: 16px;
      padding: 15px;
      width: 100%;
      color: #121110;
      box-shadow: 0 1px 0 rgba(0,0,0,0.03) inset;
      margin-bottom: 20px;
    }

    input[readonly] {
      background-color: #f4f4f4;
      cursor: not-allowed;
    }

    button {
      padding: 19px 39px;
      color: #FFF;
      background-color: #026670;
      font-size: 18px;
      text-align: center;
      border-radius: 5px;
      width: auto; /* Ensure button width is automatic */
      border: 1px solid #026670;
      border-width: 1px 1px 3px;
      box-shadow: 0 -1px 0 rgba(255,255,255,0.1) inset;
      margin-bottom: 10px;
    }

    .preview-table {
      border: 1px solid #e4ede7;
      border-collapse: collapse;
      margin-top: 10px;
      width: 100%;
    }

    .preview-table th, .preview-table td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: center;
    }

    #message {
      display: none;
      margin: 20px;
      font-weight: bold;
      padding: 8px;
      border-radius: 4px;
      border-color: aquamarine;
    }

    .message-success {
      color: beige;
      background-color: green;
      border: 1px solid green;
    }

    .message-error {
      color: red;
      background-color: lightcoral;
      border: 1px solid red;
    }

    .login-container {
      max-width: 300px;
      margin: 10px auto;
      padding: 20px;
      background: #f4f7f8;
      border-radius: 8px;
      text-align: center;
    }

    .login-container input {
      margin-bottom: 10px;
    }

    .header-title {
      background: linear-gradient(135deg, #026670 0%, #026670 100%);
      color: #ffffff;
      padding: 20px;
      text-align: center;
      border-radius: 8px;
    }

    @media screen and (min-width: 480px) {
      form {
        max-width: 480px;
      }
    }

    .field.is-grouped {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }

    .field.is-grouped .control {
      flex: 1;
      margin: 0 5px;
    }

    .field.is-grouped .button {
      width: auto;
    }
  </style>
</head>
<body>
  <div id="login-container" class="login-container">
    <h1 class="title">Login</h1>
    <div class="field">
      <label class="label">Outlet ID</label>
      <div class="control">
        <input class="input" type="number" id="login-outlet-id" placeholder="Enter Outlet ID">
      </div>
    </div>
    <button class="button is-primary" onclick="login()">Login</button>
  </div>

  <section class="hero is-primary is-bold" id="hero-section" style="display: none;">
    <div class="hero-body">
      <div class="container">
        <h1 class="header-title">Outlet Stocks</h1>
      </div>
    </div>
  </section>

  <form id="form" method="POST" style="display: none;">
    <div class="field">
      <label class="label">Outlet ID</label>
      <div class="control">
        <input class="input" type="number" placeholder="Outlet ID" name="Outlet ID" oninput="updatePreview()" readonly>
      </div>
    </div>

    <div class="field">
      <label class="label">Outlet Name</label>
      <div class="control">
        <input class="input" type="text" placeholder="Outlet Name" name="Outlet Name" oninput="updatePreview()">
      </div>
    </div>

    <div class="field">
      <label class="label">Outlet Address</label>
      <div class="control">
        <input class="input" type="text" placeholder="Outlet Address" name="Outlet Address" oninput="updatePreview()">
      </div>
    </div>

    <div class="field">
      <label class="label">SAP Code</label>
      <div class="control">
        <input class="input" type="number" placeholder="SAP Code" name="SAP Code" oninput="updatePreview()">
      </div>
    </div>

    <div class="field">
      <label class="label">Distributor Name</label>
      <div class="control">
        <input class="input" type="text" placeholder="Distributor Name" name="Distributor Name" oninput="updatePreview()">
      </div>
    </div>

    <div class="field">
      <label class="label">City</label>
      <div class="control">
        <input class="input" type="text" placeholder="City" name="City" oninput="updatePreview()">
      </div>
    </div>

    <div class="field">
      <label class="label">District</label>
      <div class="control">
        <input class="input" type="text" placeholder="District" name="District" oninput="updatePreview()">
      </div>
    </div>

    <div class="field">
      <label class="label">Subzone</label>
      <div class="control">
        <input class="input" type="text" placeholder="Subzone" name="Subzone" oninput="updatePreview()">
      </div>
    </div>

    <div class="field">
      <label class="label">Quantity in Cases</label>
      <div class="control">
        <input class="input" type="number" placeholder="Quantity in Cases" name="Quantity in Cases" oninput="updatePreview()">
      </div>
    </div>

    <div class="field">
      <label class="label">Quantity in Pieces</label>
      <div class="control">
        <input class="input" type="number" placeholder="Quantity in Pieces" name="Quantity in Pieces" oninput="updatePreview()">
      </div>
    </div>

    <div class="field is-grouped">
      <div class="control">
        <button class="button is-primary" type="submit" id="submit-button">Submit</button>
      </div>
      <div class="control">
        <button class="button is-danger" type="button" id="cancel-button">Cancel</button>
      </div>
    </div>
  </form>

  <div id="message" class="message-success"></div>

  <!-- Preview Container -->
  <div class="container" id="preview-container" style="display: none;">
    <table class="table preview-table">
      <thead>
        <tr>
          <th>Outlet Id</th>
          <th>Outlet Name</th>
          <th>Outlet Address</th>
          <th>SAP Code</th>
          <th>Distributor Name</th>
          <th>City</th>
          <th>District</th>
          <th>Subzone</th>
          <th>Quantity in Cases</th>
          <th>Quantity in Pieces</th>
        </tr>
      </thead>
      <tbody id="preview-table-body">
        <!-- Preview data will be inserted here -->
      </tbody>
    </table>
  </div>

  <script>
    // Sample data for multiple Outlet IDs
    const outletData = {
      7511: {
        outletName: "Anand Stores",
        outletAddress: "Bangalore",
        sapCode: "362116",
        distributorName: "Smart & co",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      15914: {
        outletName: "Manjunatha Rice Corner",
        outletAddress: "Bangalore",
        sapCode: "361821",
        distributorName: "Sri Venkateshwra Enterprises",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      7356: {
        outletName: "Saraswathi Rice Traders",
        outletAddress: "Bangalore",
        sapCode: "360007",
        distributorName: "M M Enterprises",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      9821: {
        outletName: "Darshan Rice Traders",
        outletAddress: "Bangalore",
        sapCode: "363820",
        distributorName: "Kashyap Traders",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      9920: {
        outletName: "Akshya rice traders",
        outletAddress: "Bangalore",
        sapCode: "361070",
        distributorName: "RPS Agencies",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      11004: {
        outletName: "GD And Sons general Provision",
        outletAddress: "Bangalore",
        sapCode: "361070",
        distributorName: "RPS Agencies",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      13817: {
        outletName: "Balaji depot Store",
        outletAddress: "Bangalore",
        sapCode: "363455",
        distributorName: "Sri Byraweshwara Enterprises",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      5998: {
        outletName: "Sapana Provision Store",
        outletAddress: "Bangalore",
        sapCode: "360175",
        distributorName: "Sri Sai Agencies",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      77738: {
        outletName: "Sri Annapurneshwar Traders",
        outletAddress: "Bangalore",
        sapCode: "362606",
        distributorName: "Trishul Traders",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      13470: {
        outletName: "VeeraJANEYA Swamy Stores",
        outletAddress: "Bangalore",
        sapCode: "362606",
        distributorName: "Trishul Traders",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      13403: {
        outletName: "Sagar Rice Traders",
        outletAddress: "Bangalore",
        sapCode: "362606",
        distributorName: "Trishul Traders",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      93488: {
        outletName: "Sri Maheshwrai Rice Traders",
        outletAddress: "Bangalore",
        sapCode: "362606",
        distributorName: "Trishul Traders",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      90267: {
        outletName: "Mahadev Traders",
        outletAddress: "Bangalore",
        sapCode: "362887",
        distributorName: "Nanjudeshwra Enterprises",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      10549: {
        outletName: "Nanjudeshwra Traders",
        outletAddress: "Bangalore",
        sapCode: "362887",
        distributorName: "Nanjudeshwra Enterprises",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      131658: {
        outletName: "V R Rice World",
        outletAddress: "Bangalore",
        sapCode: "362887",
        distributorName: "Nanjudeshwra Enterprises",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      8612: {
        outletName: "Sri Maheshwra Traders",
        outletAddress: "Bangalore",
        sapCode: "360246",
        distributorName: "Elite Crop",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      70082: {
        outletName: "St Joseph traders",
        outletAddress: "Bangalore",
        sapCode: "361297",
        distributorName: "Sri Padmashree Traders",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      70101: {
        outletName: "Mahalakshmi traders",
        outletAddress: "Bangalore",
        sapCode: "361297",
        distributorName: "Sri Padmashree Traders",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      68087: {
        outletName: "Vijay Traders",
        outletAddress: "Bangalore",
        sapCode: "361297",
        distributorName: "Sri Padmashree Traders",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      94909: {
        outletName: "Sarvam Super Market",
        outletAddress: "Bangalore",
        sapCode: "361779",
        distributorName: "Adishwar Enterprises",
        city: "Bangalore",
        district: "Bangalore",
        Subzone: "KA",
      },
      28547: {
        outletName: "Sri Venkateswara Traders",
        outletAddress: "Mysore",
        sapCode: "361006",
        distributorName: "Sri Sai Srinivasa Traders",
        city: "Mysore",
        district: "Mysore",
        Subzone: "KA",
      },
      70227: {
        outletName: "Manju Enterprises",
        outletAddress: "Mysore",
        sapCode: "361006",
        distributorName: "Sri Sai Srinivasa Traders",
        city: "Mysore",
        district: "Mysore",
        Subzone: "KA",
      },
      28215: {
        outletName: "All Trading Co",
        outletAddress: "Mysore",
        sapCode: "361006",
        distributorName: "Sri Sai Srinivasa Traders",
        city: "Mysore",
        district: "Mysore",
        Subzone: "KA",
      },
      28192: {
        outletName: "Parvathi Provision Store",
        outletAddress: "Mysore",
        sapCode: "361006",
        distributorName: "Sri Sai Srinivasa Traders",
        city: "Mysore",
        district: "Mysore",
        Subzone: "KA",
      },
      28467: {
        outletName: "Raghurama Enterprises",
        outletAddress: "Mysore",
        sapCode: "361006",
        distributorName: "Sri Sai Srinivasa Traders",
        city: "Mysore",
        district: "Mysore",
        Subzone: "KA",
      },
      18497: {
        outletName: "PARMESHWAR KIRANA & GENERAL STORE",
        outletAddress: "Gulbarga",
        sapCode: "360893",
        distributorName: "Shiva Traders",
        city: "Gulbarga",
        district: "Gulbarga",
        Subzone: "KA",
      },
      18624: {
        outletName: "ZAIRDI KIRANA & GENERAL STORE",
        outletAddress: "Gulbarga",
        sapCode: "360893",
        distributorName: "Shiva Traders",
        city: "Gulbarga",
        district: "Gulbarga",
        Subzone: "KA",
      },
      19546: {
        outletName: "M/S DURGA TRADING CO.",
        outletAddress: "Gulbarga",
        sapCode: "360893",
        distributorName: "Shiva Traders",
        city: "Gulbarga",
        district: "Gulbarga",
        Subzone: "KA",
      },
      19682: {
        outletName: "N.M.MADAMSHETTY KIRANA MERCHANT",
        outletAddress: "Gulbarga",
        sapCode: "360893",
        distributorName: "Shiva Traders",
        city: "Gulbarga",
        district: "Gulbarga",
        Subzone: "KA",
      },
      22165: {
        outletName: "ABDUL HAI KIRANA STORE",
        outletAddress: "Gulbarga",
        sapCode: "360893",
        distributorName: "Shiva Traders",
        city: "Gulbarga",
        district: "Gulbarga",
        Subzone: "KA",
      },
      31080: {
        outletName: "MANJUNATH TRADING CO.",
        outletAddress: "Gulbarga",
        sapCode: "360893",
        distributorName: "Shiva Traders",
        city: "Gulbarga",
        district: "Gulbarga",
        Subzone: "KA",
      },
      68255: {
        outletName: "Sri Narendra Traders",
        outletAddress: "Bellary",
        sapCode: "362501",
        distributorName: "Narendra Traders",
        city: "Bellary",
        district: "Bellary",
        Subzone: "KA",
      },
      74665: {
        outletName: "Lakhsmi Traders",
        outletAddress: "Bellary",
        sapCode: "362501",
        distributorName: "Narendra Traders",
        city: "Bellary",
        district: "Bellary",
        Subzone: "KA",
      },
      74667: {
        outletName: "Sri Vinayak Enterprises",
        outletAddress: "Bellary",
        sapCode: "362501",
        distributorName: "Narendra Traders",
        city: "Bellary",
        district: "Bellary",
        Subzone: "KA",
      },
      101958: {
        outletName: "Shree Vinayaka Traders",
        outletAddress: "Bellary",
        sapCode: "362501",
        distributorName: "Narendra Traders",
        city: "Bellary",
        district: "Bellary",
        Subzone: "KA",
      },
      122192: {
        outletName: "S.S.Enterprises",
        outletAddress: "Bellary",
        sapCode: "362501",
        distributorName: "Narendra Traders",
        city: "Bellary",
        district: "Bellary",
        Subzone: "KA",
      },
      19936: {
        outletName: "New Seven Hills Super Bazaar",
        outletAddress: "Bellary",
        sapCode: "362501",
        distributorName: "Narendra Traders",
        city: "Bellary",
        district: "Bellary",
        Subzone: "KA",
      },
      26834: {
        outletName: "Amma Super Bazar",
        outletAddress: "Bellary",
        sapCode: "362501",
        distributorName: "Narendra Traders",
        city: "Bellary",
        district: "Bellary",
        Subzone: "KA",
      },
      23072: {
        outletName: "Kishore Traders",
        outletAddress: "Bellary",
        sapCode: "362501",
        distributorName: "Narendra Traders",
        city: "Bellary",
        district: "Bellary",
        Subzone: "KA",
      },
      84223: {
        outletName: "Hanuman Oil Traders",
        outletAddress: "Bellary",
        sapCode: "362501",
        distributorName: "Narendra Traders",
        city: "Bellary",
        district: "Bellary",
        Subzone: "KA",
      },
      26669: {
        outletName: "New Thanmay Super Market",
        outletAddress: "Bellary",
        sapCode: "362501",
        distributorName: "Narendra Traders",
        city: "Bellary",
        district: "Bellary",
        Subzone: "KA",
      },
      91173: {
        outletName: "Kalleshwara Provision Stores",
        outletAddress: "Davanagere",
        sapCode: "361313",
        distributorName: "Sri Lakshmi Venkateshwara Agencies",
        city: "Davanagere",
        district: "Davanagere",
        Subzone: "KA",
      },
      18885: {
        outletName: "Patel Dinasi Supar Market",
        outletAddress: "Davanagere",
        sapCode: "361313",
        distributorName: "Sri Lakshmi Venkateshwara Agencies",
        city: "Davanagere",
        district: "Davanagere",
        Subzone: "KA",
      },
      35002: {
        outletName: "Sri Ranga Departmental Store",
        outletAddress: "Davanagere",
        sapCode: "361313",
        distributorName: "Sri Lakshmi Venkateshwara Agencies",
        city: "Davanagere",
        district: "Davanagere",
        Subzone: "KA",
      },
      39425: {
        outletName: "Venkataratna Provision Store",
        outletAddress: "Davanagere",
        sapCode: "361313",
        distributorName: "Sri Lakshmi Venkateshwara Agencies",
        city: "Davanagere",
        district: "Davanagere",
        Subzone: "KA",
      },
      35061: {
        outletName: "Sajjan Supar Market",
        outletAddress: "Davanagere",
        sapCode: "361313",
        distributorName: "Sri Lakshmi Venkateshwara Agencies",
        city: "Davanagere",
        district: "Davanagere",
        Subzone: "KA",
      },
      22497: {
        outletName: "GEMINI SUPER BAZAR",
        outletAddress: "Hubli",
        sapCode: "362543",
        distributorName: "Pankaj Traders",
        city: "Hubli",
        district: "Hubli",
        Subzone: "KA",
      },
      21766: {
        outletName: "SHRI MAHALAXMI TRA CO",
        outletAddress: "Hubli",
        sapCode: "362543",
        distributorName: "Pankaj Traders",
        city: "Hubli",
        district: "Hubli",
        Subzone: "KA",
      },
      50279: {
        outletName: "HORIKERI & BROTHERS KIRANI",
        outletAddress: "Hubli",
        sapCode: "362543",
        distributorName: "Pankaj Traders",
        city: "Hubli",
        district: "Hubli",
        Subzone: "KA",
      },
      29073: {
        outletName: "SRI SHALIVAHAN KIRANI STORE",
        outletAddress: "Hubli",
        sapCode: "362543",
        distributorName: "Pankaj Traders",
        city: "Hubli",
        district: "Hubli",
        Subzone: "KA",
      },
      25542: {
        outletName: "SRI BASWESWARA TRADERS",
        outletAddress: "Hubli",
        sapCode: "362543",
        distributorName: "Pankaj Traders",
        city: "Hubli",
        district: "Hubli",
        Subzone: "KA",
      },
      // Add up to 10 outlet data entries here...
    };

    function login() {
      const loginOutletId = document.getElementById("login-outlet-id").value;
      const data = outletData[loginOutletId];

      if (data) {
        document.getElementById("hero-section").style.display = "block";
        document.getElementById("form").style.display = "block";
        document.getElementById("login-container").style.display = "none";

        // Autofill the form fields
        document.querySelector("input[name='Outlet ID']").value = loginOutletId;
        document.querySelector("input[name='Outlet Name']").value = data.outletName;
        document.querySelector("input[name='Outlet Address']").value = data.outletAddress;
        document.querySelector("input[name='SAP Code']").value = data.sapCode;
        document.querySelector("input[name='Distributor Name']").value = data.distributorName;
        document.querySelector("input[name='City']").value = data.city;
        document.querySelector("input[name='District']").value = data.district;
        document.querySelector("input[name='Subzone']").value = data.Subzone;

        updatePreview();
      } else {
        alert("Invalid Outlet ID");
      }
    }

    function updatePreview() {
      const previewTableBody = document.getElementById("preview-table-body");
      const formData = new FormData(document.getElementById("form"));
      const row = document.createElement("tr");

      formData.forEach((value) => {
        const cell = document.createElement("td");
        cell.textContent = value;
        row.appendChild(cell);
      });

      previewTableBody.innerHTML = "";
      previewTableBody.appendChild(row);
      document.getElementById("preview-container").style.display = "block";
    }

    document.getElementById("form").addEventListener("submit", function(event) {
      event.preventDefault();
      document.getElementById("message").style.display = "block";
      document.getElementById("message").className = "message-success";
      document.getElementById("message").innerHTML = "Form submitted successfully!";
    });

    document.getElementById("form").addEventListener("reset", function() {
      document.getElementById("preview-table-body").innerHTML = "";
      document.getElementById("preview-container").style.display = "none";
      document.getElementById("message").style.display = "none";
    });

    document.getElementById("cancel-button").addEventListener("click", function() {
      // Hide the "Outlet Stocks" header
      document.getElementById("hero-section").style.display = "none";
      
      // Show the login container
      document.getElementById("login-container").style.display = "block";
      
      // Hide the form
      document.getElementById("form").style.display = "none";
      
      // Hide the preview container
      document.getElementById("preview-container").style.display = "none";
      
      // Clear form and preview data
      document.getElementById("form").reset();
      document.getElementById("preview-table-body").innerHTML = "";
      
      // Hide the success message
      document.getElementById("message").style.display = "none";
    });
  </script>
  <script>
      document.getElementById("form").addEventListener("submit", function (e) {
        e.preventDefault(); // Prevent the default form submission
        document.getElementById("message").textContent = "Submitting..";
        document.getElementById("message").style.display = "block";
        document.getElementById("submit-button").disabled = true;

        // Collect the form data
        var formData = new FormData(this);
        var keyValuePairs = [];
        for (var pair of formData.entries()) {
          keyValuePairs.push(pair[0] + "=" + pair[1]);
        }

        var formDataString = keyValuePairs.join("&");

        // Send a POST request to your Google Apps Script
        fetch(
          "https://script.google.com/macros/s/AKfycbwYaEAPDbb7JsPDa9128D5lJwAD-TaWBpn8tdiKFUsTYTBShLCWeeL_3DRNpW74nAHY/exec",
          {
            redirect: "follow",
            method: "POST",
            body: formDataString,
            headers: {
              "Content-Type": "text/plain;charset=utf-8",
            },
          }
        )
          .then(function (response) {
            // Check if the request was successful
            if (response) {
              return response; // Assuming your script returns JSON response
            } else {
              throw new Error("Failed to submit the form.");
            }
          })
          .then(function (data) {
            // Display a success message
            document.getElementById("message").textContent =
              "Data submitted successfully!";
            document.getElementById("message").style.display = "block";
            document.getElementById("message").style.backgroundColor = "green";
            document.getElementById("message").style.color = "beige";
            document.getElementById("submit-button").disabled = false;
            document.getElementById("form").reset();

            setTimeout(function () {
              document.getElementById("message").textContent = "";
              document.getElementById("message").style.display = "none";
            }, 2600);
          })
          .catch(function (error) {
            // Handle errors, you can display an error message here
            console.error(error);
            document.getElementById("message").textContent =
              "An error occurred while submitting the form.";
            document.getElementById("message").style.display = "block";
          });
      });
    </script>
</body>
</html>
